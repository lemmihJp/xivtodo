(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{1276:function(t,e,r){"use strict";var n=r("d784"),a=r("44e7"),i=r("825a"),c=r("1d80"),l=r("4840"),s=r("8aa5"),o=r("50c4"),u=r("14c3"),p=r("9263"),h=r("9f7f"),d=h.UNSUPPORTED_Y,f=[].push,b=Math.min,g=4294967295;n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(c(this)),i=void 0===r?g:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!a(t))return e.call(n,t,i);var l,s,o,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,b=new RegExp(t.source,h+"g");while(l=p.call(b,n)){if(s=b.lastIndex,s>d&&(u.push(n.slice(d,l.index)),l.length>1&&l.index<n.length&&f.apply(u,l.slice(1)),o=l[0].length,d=s,u.length>=i))break;b.lastIndex===l.index&&b.lastIndex++}return d===n.length?!o&&b.test("")||u.push(""):u.push(n.slice(d)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var a=c(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a,r):n.call(String(a),e,r)},function(t,a){var c=r(n,t,this,a,n!==e);if(c.done)return c.value;var p=i(t),h=String(this),f=l(p,RegExp),O=p.unicode,v=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(d?"g":"y"),j=new f(d?"^(?:"+p.source+")":p,v),m=void 0===a?g:a>>>0;if(0===m)return[];if(0===h.length)return null===u(j,h)?[h]:[];var y=0,x=0,k=[];while(x<h.length){j.lastIndex=d?0:x;var C,R=u(j,d?h.slice(x):h);if(null===R||(C=b(o(j.lastIndex+(d?x:0)),h.length))===y)x=s(h,x,O);else{if(k.push(h.slice(y,x)),k.length===m)return k;for(var E=1;E<=R.length-1;E++)if(k.push(R[E]),k.length===m)return k;x=y=C}}return k.push(h.slice(y)),k}]}),d)},"14c3":function(t,e,r){var n=r("c6b6"),a=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var i=r.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"1fe6":function(t,e,r){},"26d3":function(t,e,r){"use strict";r.r(e);var n=r("7a23"),a={class:"container"},i=Object(n["i"])("hr",null,null,-1),c={name:"settings-form",id:"settings-form"},l={class:"row"},s={class:"col-lg-6"},o=Object(n["i"])("h2",null,"Characters",-1),u=Object(n["i"])("h3",null,"Add a new character",-1),p={class:"mb-3"},h=Object(n["i"])("label",{for:"inputCharacterID",class:"form-label"},"Profile URL",-1),d=Object(n["i"])("div",{class:"form-text"},[Object(n["h"])(" The URL for your character profile. You can find it in "),Object(n["i"])("a",{class:"text-reset",href:"https://na.finalfantasyxiv.com/lodestone/character/",target:"_blank",rel:"noopener noreferrer"},"Lodestone"),Object(n["h"])(". ")],-1),f={key:0,type:"button",id:"settings-save-btn",class:"btn btn-success",disabled:""},b=Object(n["i"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),g=Object(n["h"])(" Adding, please wait... "),O=Object(n["i"])("br",null,null,-1),v=Object(n["i"])("br",null,null,-1),j=Object(n["i"])("h3",null,"Your characters",-1),m={key:2,class:"list-group list-group-flush"},y=Object(n["i"])("li",{class:"list-group-item d-flex justify-content-between align-items-start"}," Once you add your characters, they will appear here. ",-1),x={key:3,class:"list-group list-group-flush"},k={class:"ms-2 me-auto"},C={style:{float:"left"}},R={class:"fw-bold"},E=Object(n["i"])("br",null,null,-1),w={key:0,class:"text-info fw-light"},S=Object(n["i"])("div",{class:"spinner-border spinner-border-sm",role:"status"},null,-1),U=Object(n["h"])(" Updating character data... "),A={key:1,class:"text-muted fw-light"},I={key:0,class:"text-warning"},D=Object(n["i"])("br",null,null,-1),L=Object(n["i"])("abbr",{title:"The achievements for this characters are not set to public in Lodestone."}," Achievements are not public ",-1),T=Object(n["i"])("span",{class:"tt-text"},"Update data",-1),$=Object(n["h"])("    "),P=Object(n["i"])("span",{class:"tt-text"},"Remove character",-1),_=Object(n["i"])("br",null,null,-1),N={class:"col-lg-6"},M=Object(n["i"])("h2",null,"General",-1),Y=Object(n["i"])("h3",null,"Content spoilers",-1),H={class:"form-check"},W=Object(n["i"])("label",{class:"form-check-label",for:"inputSpoilersOption0"}," Blur out all story-related encounters ",-1),B={class:"form-check"},V=Object(n["i"])("label",{class:"form-check-label",for:"inputSpoilersOption1"}," Blur out non-completed story-related encounters ",-1),K={class:"form-check"},G=Object(n["i"])("label",{class:"form-check-label",for:"inputSpoilersOption2"},"Show all encounters",-1),J=Object(n["i"])("div",{class:"form-text"},"Preference in hiding potential spoilers.",-1),F=Object(n["i"])("br",null,null,-1),X=Object(n["i"])("br",null,null,-1),q=Object(n["i"])("br",null,null,-1);function z(t,e,r,z,Q,Z){var tt=this,et=Object(n["y"])("Alert");return Object(n["t"])(),Object(n["e"])("div",a,[Object(n["i"])("h1",null,Object(n["A"])(t.$t("page.settings")),1),Q.error.msg?(Object(n["t"])(),Object(n["e"])(et,{key:0,type:Q.error.type,msg:Q.error.msg},null,8,["type","msg"])):Object(n["f"])("",!0),i,Object(n["i"])("form",c,[Object(n["i"])("div",l,[Object(n["i"])("div",s,[o,u,Object(n["i"])("div",p,[h,Object(n["H"])(Object(n["i"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return Q.profileURL=t}),type:"text",class:"form-control",id:"inputCharacterID",placeholder:"https://na.finalfantasyxiv.com/lodestone/character/12345/"},null,512),[[n["E"],Q.profileURL]]),d]),Q.adding?(Object(n["t"])(),Object(n["e"])("button",f,[b,g])):(Object(n["t"])(),Object(n["e"])("button",{key:1,onClick:e[2]||(e[2]=function(){return Z.addCharacter&&Z.addCharacter.apply(Z,arguments)}),type:"button",id:"settings-save-btn",class:["btn btn-success",{disabled:!Q.profileURL}]}," Add character ",2)),O,v,j,this.$store.getters.hasCharacter?(Object(n["t"])(),Object(n["e"])("ul",x,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(this.$store.state.characters,(function(t,e){return Object(n["t"])(),Object(n["e"])("li",{key:t.ID,class:"list-group-item d-flex justify-content-between align-items-start"},[Object(n["i"])("div",k,[Object(n["i"])("img",{style:{display:"block",float:"left",height:"50px"},class:"avatar-list",src:t.characterData.Character.Avatar,alt:"Portrait of your character"},null,8,["src"]),Object(n["i"])("div",C,[Object(n["i"])("span",R,Object(n["A"])(t.characterData.Character.Name),1),Object(n["h"])(" – "+Object(n["A"])(t.characterData.Character.World)+" ",1),E,tt.updating==t.characterData.Character.ID||tt.$store.getters.characterOutOfDate(e)?(Object(n["t"])(),Object(n["e"])("span",w,[S,U])):(Object(n["t"])(),Object(n["e"])("span",A,[Object(n["h"])(" Last updated "+Object(n["A"])(Z.lastUpdatedAt(t.lastUpdated))+" ",1),t.characterData.Achievements&&0!=t.characterData.Achievements.length?Object(n["f"])("",!0):(Object(n["t"])(),Object(n["e"])("span",I,[D,L]))]))])]),Q.updating||tt.$store.getters.characterOutOfDate(e)?Object(n["f"])("",!0):(Object(n["t"])(),Object(n["e"])("a",{key:0,class:"bi-arrow-repeat text-secondary cursor-pointer tt",onClick:function(e){return Z.refreshCharacter(t.characterData.Character.ID)}},[T],8,["onClick"])),$,Object(n["i"])("a",{class:"bi-trash text-danger cursor-pointer tt",onClick:function(t){return Z.removeCharacter(e)}},[P],8,["onClick"])])})),128))])):(Object(n["t"])(),Object(n["e"])("ul",m,[y])),_]),Object(n["i"])("div",N,[M,Y,Object(n["i"])("div",H,[Object(n["H"])(Object(n["i"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return Q.settings.spoilersOption=t}),class:"form-check-input",type:"radio",name:"inputSpoilersOption",id:"inputSpoilersOption0",value:"0"},null,512),[[n["D"],Q.settings.spoilersOption]]),W]),Object(n["i"])("div",B,[Object(n["H"])(Object(n["i"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(t){return Q.settings.spoilersOption=t}),class:"form-check-input",type:"radio",name:"inputSpoilersOption",id:"inputSpoilersOption1",value:"1"},null,512),[[n["D"],Q.settings.spoilersOption]]),V]),Object(n["i"])("div",K,[Object(n["H"])(Object(n["i"])("input",{"onUpdate:modelValue":e[5]||(e[5]=function(t){return Q.settings.spoilersOption=t}),class:"form-check-input",type:"radio",name:"inputSpoilersOption",id:"inputSpoilersOption2",value:"2"},null,512),[[n["D"],Q.settings.spoilersOption]]),G]),J,F,Object(n["i"])("button",{onClick:e[6]||(e[6]=function(){return Z.saveSettings&&Z.saveSettings.apply(Z,arguments)}),type:"button",id:"settings-save-btn",class:"btn btn-success"}," Update settings "),X,q])])])])}var Q=r("5530"),Z=(r("8a79"),r("fb6a"),r("ac1f"),r("1276"),r("d3b7"),r("98ab")),tt=r("209b"),et={name:"Settings",data:function(){return{adding:!1,updating:0,error:{},profileURL:"",settings:Object(Q["a"])({},this.$store.state.settings)}},components:{Alert:Z["a"]},methods:{saveSettings:function(){this.$store.commit("updateSettings",this.settings)},addCharacter:function(){var t=this;this.adding=!0,this.error={},this.profileURL.endsWith("/")&&(this.profileURL=this.profileURL.slice(0,-1));var e=this.profileURL.split("/").slice(-1).pop();Object(tt["a"])(e).then((function(e){t.$store.commit("addCharacter",e),e.Achievements&&e.Achievements.length>0?t.error={type:"success",msg:"Character <b>".concat(e.Character.Name,"</b> added! You can now access your <a href='/profile' class='alert-link'>Profile</a> and all character completion pages.")}:t.error={type:"warning",msg:"Character <b>".concat(e.Character.Name,"</b> added, but their achievements are not set to public. You can change that setting <a href='https://na.finalfantasyxiv.com/lodestone/my/setting/account/' class='alert-link' target='_blank' rel='noopener noreferrer'>here</a>, and then re-add the character.")}})).catch((function(e){console.log(e),t.error={type:"error",msg:e}})).finally((function(){t.profileURL="",t.adding=!1}))},refreshCharacter:function(t){var e=this;this.updating=t,this.error={},Object(tt["a"])(t).then((function(t){e.$store.commit("addCharacter",t)})).catch((function(t){console.log(t),e.error={type:"error",msg:t}})).finally((function(){e.profileURL="",e.updating=null}))},removeCharacter:function(t){this.$store.commit("removeCharacter",t)},lastUpdatedAt:function(t){var e=new Date,r=e-t,n=Math.floor(r/2592e6),a=Math.floor(r/864e5),i=Math.floor(r/36e5),c=Math.floor(r/6e4);return c<2?"a couple seconds ago":c<120?c+" minutes ago":i<48?i+" hours ago":a<60?a+" days ago":n+" months ago"}}},rt=(r("55bc"),r("d959")),nt=r.n(rt);const at=nt()(et,[["render",z]]);e["default"]=at},"44e7":function(t,e,r){var n=r("861d"),a=r("c6b6"),i=r("b622"),c=i("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==a(t))}},"55bc":function(t,e,r){"use strict";r("a5d7")},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"8a79":function(t,e,r){"use strict";var n=r("23e7"),a=r("06cf").f,i=r("50c4"),c=r("5a34"),l=r("1d80"),s=r("ab13"),o=r("c430"),u="".endsWith,p=Math.min,h=s("endsWith"),d=!o&&!h&&!!function(){var t=a(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!d&&!h},{endsWith:function(t){var e=String(l(this));c(t);var r=arguments.length>1?arguments[1]:void 0,n=i(e.length),a=void 0===r?n:p(i(r),n),s=String(t);return u?u.call(e,s,a):e.slice(a-s.length,a)===s}})},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},9263:function(t,e,r){"use strict";var n=r("ad6d"),a=r("9f7f"),i=r("5692"),c=RegExp.prototype.exec,l=i("native-string-replace",String.prototype.replace),s=c,o=function(){var t=/a/,e=/b*/g;return c.call(t,"a"),c.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],h=o||p||u;h&&(s=function(t){var e,r,a,i,s=this,h=u&&s.sticky,d=n.call(s),f=s.source,b=0,g=t;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,b++),r=new RegExp("^(?:"+f+")",d)),p&&(r=new RegExp("^"+f+"$(?!\\s)",d)),o&&(e=s.lastIndex),a=c.call(h?r:s,g),h?a?(a.input=a.input.slice(b),a[0]=a[0].slice(b),a.index=s.lastIndex,s.lastIndex+=a[0].length):s.lastIndex=0:o&&a&&(s.lastIndex=s.global?a.index+a[0].length:e),p&&a&&a.length>1&&l.call(a[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a}),t.exports=s},"98ab":function(t,e,r){"use strict";var n=r("7a23"),a=Object(n["h"])("  ");function i(t,e,r,i,c,l){return Object(n["t"])(),Object(n["e"])("div",{id:"error-block",class:["alert",{"alert-dark":"normal"==r.type,"alert-muted":"muted"==r.type,"alert-danger":"error"==r.type,"alert-warning":"warning"==r.type,"alert-success":"success"==r.type}],role:"alert"},[Object(n["i"])("span",{class:["bi",{"bi-info-circle-fill":"normal"==r.type||"muted"==r.type,"bi-exclamation-triangle-fill":"error"==r.type||"warning"==r.type,"bi-check-circle-fill":"success"==r.type}]},null,2),a,Object(n["i"])("span",{innerHTML:r.msg},null,8,["innerHTML"])],2)}var c={props:{type:String,msg:String}},l=(r("feac"),r("d959")),s=r.n(l);const o=s()(c,[["render",i]]);e["a"]=o},"9f7f":function(t,e,r){"use strict";var n=r("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a5d7:function(t,e,r){},ab13:function(t,e,r){var n=r("b622"),a=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},ac1f:function(t,e,r){"use strict";var n=r("23e7"),a=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d784:function(t,e,r){"use strict";r("ac1f");var n=r("6eeb"),a=r("9263"),i=r("d039"),c=r("b622"),l=r("9112"),s=c("species"),o=RegExp.prototype,u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){return"$0"==="a".replace(/./,"$0")}(),h=c("replace"),d=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,h){var b=c(t),g=!i((function(){var e={};return e[b]=function(){return 7},7!=""[t](e)})),O=g&&!i((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[b]=/./[b]),r.exec=function(){return e=!0,null},r[b](""),!e}));if(!g||!O||"replace"===t&&(!u||!p||d)||"split"===t&&!f){var v=/./[b],j=r(b,""[t],(function(t,e,r,n,i){var c=e.exec;return c===a||c===o.exec?g&&!i?{done:!0,value:v.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),m=j[0],y=j[1];n(String.prototype,t,m),n(o,b,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}h&&l(o[b],"sham",!0)}},feac:function(t,e,r){"use strict";r("1fe6")}}]);
//# sourceMappingURL=settings.5a0c1fd8.js.map